{"version":3,"file":"/scripts/growtype-video.js","mappings":"gBAAIA,E,kBCiCJ,SAASC,EAAcC,GACnB,IAkBmBC,EACfC,EACAC,EApBEC,EAAeC,OAAOL,GAAOM,QAAQ,gCAGrCC,GAFcH,EAAaI,KAAK,0BACnBJ,EAAaI,KAAK,yBACxBH,OAAOL,GAAOS,KAAK,cAE3BL,EAAaM,SAAS,8BAGV,YAATH,EAoCZ,SAAwBN,GACpB,IAEIU,EAFEC,EAAUX,EAAMQ,KAAK,aACrBI,EAAiBZ,EAAMQ,KAAK,cAqBlC,SAASK,EAAcC,GACnBV,OAAOU,EAAMC,OAAOC,GAAGC,QAAQ,CAACC,QAAS,GAAI,KAC7CJ,EAAMC,OAAOI,OACbL,EAAMC,OAAOK,WACjB,CAEA,SAASC,EAAoBP,GACN,IAAfA,EAAMQ,OACNlB,OAAOJ,GAAOiB,QAAQ,CAACC,QAAS,GAAI,KACpCd,OAAOJ,GAAOK,QAAQ,gCAAgCkB,YAAY,4BAClEb,EAAOc,cAAc,CACjBb,QAASA,EACTc,aAAcb,IAG1B,CAjCAF,EAAS,IAAIgB,GAAGC,OAAO3B,EAAM,GAAI,CAC7B4B,OAAQ,OACRC,MAAO,OACPlB,QAASA,EACTmB,WAAY,CACRC,SAAU,EACVC,KAAM,EACNC,MAAOrB,EACPsB,SAAU,EACVC,SAAU,EACVC,eAAgB,GAEpBC,OAAQ,CACJ,QAAWxB,EACX,cAAiBQ,IAoB7B,CA1EYiB,CAAevC,GACC,SAATO,IAQIN,EAPGD,EAQlBE,EAAWsC,SAASC,cAAc,UAClCtC,EAAYqC,SAASC,cAAc,WAE7BC,aAAa,MAAOzC,EAAMQ,KAAK,cACzCN,EAAUuC,aAAa,OAAQ,aAE/BxC,EAASyC,YAAYxC,GAErBE,OAAOJ,GAAOiB,QAAQ,CAACC,QAAS,GAAI,KAEpCd,OAAOJ,GAAOK,QAAQ,gCAAgCE,KAAK,yBAAyBoC,UAEpF1C,EAAS2C,OAAQ,EACjB3C,EAAS8B,UAAW,EACpB9B,EAASiC,UAAW,EACpBjC,EAAS4C,QAAU,OACnB5C,EAAS+B,MAAO,EAChB/B,EAAS6C,OAAS9C,EAAMQ,KAAK,cAE7BR,EAAM+C,OAAO9C,IAxBTE,EAAa6C,SAAS,4BAE9B,CAwEA,SAASC,IAEL,IAAIC,EAAa9C,OAAO,0BAA0BI,KAAK,oBAEvD2C,YAAW,WACY,SAAfD,EACApD,EAAcM,OAAO,2BACC,cAAf8C,EACP9C,OAAO,gCAAgCgD,GAAG,aAAa,WACnDtD,EAAcM,OAAOiD,MAAM9C,KAAK,0BACpC,IACsB,UAAf2C,GACP9C,OAAO,gCAAgCgD,GAAG,SAAS,WAC/CtC,MAAMwC,iBACNxD,EAAcM,OAAOiD,MAAM9C,KAAK,0BACpC,GAER,GAAG,IACP,CAzIIH,OAAO,0DAA0DmD,OAAS,GAC1EJ,YAAW,WACP,IAAIK,EAAwB,CAAC,EAC7BpD,OAAO,0DAA0DqD,MAAK,SAAUC,EAAOC,GACnF,IAAIC,EAAUxD,OAAOuD,GAEjBE,GADQD,EAAQrD,KAAK,UACRqD,EAAQrD,KAAK,0BAE1BuD,EAD0B,SAASC,KAAKF,EAAWtD,KAAK,OAAOC,KAAK,qBAAqB,GACpDwD,QAAQ,YAAa,IAC9DR,EAAsBM,GAAcA,CACxC,IAEA1D,OAAO,yDAAyDqD,MAAK,SAAUC,EAAOC,GAClF,IAAIM,EAAY7D,OAAOuD,GACnBO,EAAiBD,EAAU1D,KAAK,OAEhC4D,EAD8B,SAASJ,KAAKG,EAAe1D,KAAK,QAAQ,GAC3BwD,QAAQ,YAAa,IAEtEI,OAAOC,OAAOb,GAAuBc,KAAI,SAAUR,GAC3CK,EAAeI,QAAQT,EAAa,aAAe,GACnDG,EAAUjB,SAAS,qBAE3B,GACJ,GACJ,GAAG,KAsHPC,IAEA7C,OAAOmC,UAAUa,GAAG,YAAY,SAAUoB,GACtCvB,GACJ,G,mBCpJIwB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CAGAJ,EAAoBO,EAAID,EFzBpBnF,EAAW,GACf6E,EAAoBQ,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAI5F,EAAS0D,OAAQkC,IAAK,CACrCL,EAAWvF,EAAS4F,GAAG,GACvBJ,EAAKxF,EAAS4F,GAAG,GACjBH,EAAWzF,EAAS4F,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAAS7B,OAAQoC,MACpB,EAAXL,GAAsBC,GAAgBD,IAAalB,OAAOwB,KAAKlB,EAAoBQ,GAAGW,OAAM,SAASC,GAAO,OAAOpB,EAAoBQ,EAAEY,GAAKV,EAASO,GAAK,IAChKP,EAASW,OAAOJ,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACb7F,EAASkG,OAAON,IAAK,GACrB,IAAIO,EAAIX,SACER,IAANmB,IAAiBb,EAASa,EAC/B,CACD,CACA,OAAOb,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAI5F,EAAS0D,OAAQkC,EAAI,GAAK5F,EAAS4F,EAAI,GAAG,GAAKH,EAAUG,IAAK5F,EAAS4F,GAAK5F,EAAS4F,EAAI,GACrG5F,EAAS4F,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,EG7BAZ,EAAoBuB,EAAI,SAASC,EAAKC,GAAQ,OAAO/B,OAAOgC,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,E,WCKtG,IAAII,EAAkB,CACrB,IAAK,EACL,IAAK,GAaN7B,EAAoBQ,EAAES,EAAI,SAASa,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BpF,GAC/D,IAKIqD,EAAU6B,EALVpB,EAAW9D,EAAK,GAChBqF,EAAcrF,EAAK,GACnBsF,EAAUtF,EAAK,GAGImE,EAAI,EAC3B,GAAGL,EAASyB,MAAK,SAASC,GAAM,OAA+B,IAAxBP,EAAgBO,EAAW,IAAI,CACrE,IAAInC,KAAYgC,EACZjC,EAAoBuB,EAAEU,EAAahC,KACrCD,EAAoBO,EAAEN,GAAYgC,EAAYhC,IAGhD,GAAGiC,EAAS,IAAIzB,EAASyB,EAAQlC,EAClC,CAEA,IADGgC,GAA4BA,EAA2BpF,GACrDmE,EAAIL,EAAS7B,OAAQkC,IACzBe,EAAUpB,EAASK,GAChBf,EAAoBuB,EAAEM,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO9B,EAAoBQ,EAAEC,EAC9B,EAEI4B,EAAqBC,KAAyB,mBAAIA,KAAyB,oBAAK,GACpFD,EAAmBE,QAAQR,EAAqBS,KAAK,KAAM,IAC3DH,EAAmBI,KAAOV,EAAqBS,KAAK,KAAMH,EAAmBI,KAAKD,KAAKH,G,IChDvFrC,EAAoBQ,OAAEL,EAAW,CAAC,MAAM,WAAa,OAAOH,EAAoB,IAAM,IACtF,IAAI0C,EAAsB1C,EAAoBQ,OAAEL,EAAW,CAAC,MAAM,WAAa,OAAOH,EAAoB,GAAK,IAC/G0C,EAAsB1C,EAAoBQ,EAAEkC,E","sources":["webpack://plugin/webpack/runtime/chunk loaded","webpack://plugin/./resources/scripts/growtype-video.js","webpack://plugin/webpack/bootstrap","webpack://plugin/webpack/runtime/hasOwnProperty shorthand","webpack://plugin/webpack/runtime/jsonp chunk loading","webpack://plugin/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\n * Thumbnails add video icon\n */\nif (jQuery('.woocommerce-product-gallery__image.has-growtype-video').length > 0) {\n    setTimeout(function () {\n        let imagesWithVideoTitles = {};\n        jQuery('.woocommerce-product-gallery__image.has-growtype-video').each(function (index, element) {\n            let mainImg = jQuery(element);\n            let video = mainImg.find('iframe');\n            let videoCover = mainImg.find('.growtype-video-cover');\n            let imageTitleWithExtension = /[^/]*$/.exec(videoCover.find('img').attr('data-large_image'))[0];\n            let imageTitle = imageTitleWithExtension.replace(/\\.[^/.]+$/, \"\")\n            imagesWithVideoTitles[imageTitle] = imageTitle;\n        });\n\n        jQuery('.woocommerce-product-gallery .product-image-thumbnail').each(function (index, element) {\n            let thumbnail = jQuery(element);\n            let thumbnailImage = thumbnail.find('img');\n            let thumbnailTitleWithExtension = /[^/]*$/.exec(thumbnailImage.attr('src'))[0];\n            let thumbnailTitle = thumbnailTitleWithExtension.replace(/\\.[^/.]+$/, \"\")\n\n            Object.values(imagesWithVideoTitles).map(function (imageTitle) {\n                if (thumbnailTitle.indexOf(imageTitle + '-400x300') >= 0) {\n                    thumbnail.addClass('has-growtype-video');\n                }\n            });\n        });\n    }, 1000);\n}\n\n/**\n *  PLay video\n */\nfunction initVideoPlay($this) {\n    const videoWrapper = jQuery($this).closest('.growtype-video-main-wrapper');\n    const videoPlayer = videoWrapper.find('.growtype-video-player');\n    const videoCover = videoWrapper.find('.growtype-video-cover');\n    const type = jQuery($this).attr('data-type');\n\n    if (!videoWrapper.hasClass('growtype-video-is-active')) {\n        // jQuery($this).animate({opacity: 0}, 0);\n\n        if (type === 'youtube') {\n            initYoutubeApi($this);\n        } else if (type === 'html') {\n            initHtmlVideo($this);\n        }\n\n        videoWrapper.addClass('growtype-video-is-active');\n    }\n}\n\nfunction initHtmlVideo(video) {\n    var videoTag = document.createElement('video');\n    var sourceTag = document.createElement('source');\n\n    sourceTag.setAttribute('src', video.attr('data-link'));\n    sourceTag.setAttribute('type', 'video/mp4');\n\n    videoTag.appendChild(sourceTag);\n\n    jQuery(video).animate({opacity: 1}, 500);\n\n    jQuery(video).closest('.growtype-video-main-wrapper').find('.growtype-video-cover').fadeOut();\n\n    videoTag.muted = true;\n    videoTag.autoplay = true;\n    videoTag.controls = false;\n    videoTag.preload = 'auto';\n    videoTag.loop = true;\n    videoTag.poster = video.attr('data-cover');\n\n    video.append(videoTag)\n}\n\n/**\n * Youtube setup\n */\nfunction initYoutubeApi(video) {\n    const videoId = video.attr('data-link');\n    const videoStartTime = video.attr('data-start');\n    let player;\n\n    player = new YT.Player(video[0], {\n        height: '100%',\n        width: '100%',\n        videoId: videoId,\n        playerVars: {\n            autoplay: 1,\n            loop: 0,\n            start: videoStartTime,\n            controls: 0,\n            showinfo: 0,\n            modestbranding: 0\n        },\n        events: {\n            'onReady': onPlayerReady,\n            'onStateChange': onPlayerStateChange\n        }\n    });\n\n    function onPlayerReady(event) {\n        jQuery(event.target.g).animate({opacity: 1}, 500);\n        event.target.mute();\n        event.target.playVideo();\n    }\n\n    function onPlayerStateChange(event) {\n        if (event.data === 0) {\n            jQuery(video).animate({opacity: 1}, 1000);\n            jQuery(video).closest('.growtype-video-main-wrapper').removeClass('growtype-video-is-active');\n            player.loadVideoById({\n                videoId: videoId,\n                startSeconds: videoStartTime,\n            });\n        }\n    }\n}\n\n/**\n * Setup video play\n */\nfunction setupVideoPlay() {\n\n    let playAction = jQuery('.growtype-video-player').attr('data-play-action');\n\n    setTimeout(function () {\n        if (playAction === 'load') {\n            initVideoPlay(jQuery('.growtype-video-player'));\n        } else if (playAction === 'mouseover') {\n            jQuery('.growtype-video-main-wrapper').on('mouseover', function () {\n                initVideoPlay(jQuery(this).find('.growtype-video-player'));\n            });\n        } else if (playAction === 'click') {\n            jQuery('.growtype-video-main-wrapper').on('click', function () {\n                event.preventDefault();\n                initVideoPlay(jQuery(this).find('.growtype-video-player'));\n            });\n        }\n    }, 500)\n}\n\n/**\n * Init video play actions\n */\nsetupVideoPlay();\n\njQuery(document).on('pjax:end', function (t) {\n    setupVideoPlay();\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t821: 0,\n\t202: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkplugin\"] = self[\"webpackChunkplugin\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [202], function() { return __webpack_require__(658); })\nvar __webpack_exports__ = __webpack_require__.O(undefined, [202], function() { return __webpack_require__(84); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","initVideoPlay","$this","video","videoTag","sourceTag","videoWrapper","jQuery","closest","type","find","attr","hasClass","player","videoId","videoStartTime","onPlayerReady","event","target","g","animate","opacity","mute","playVideo","onPlayerStateChange","data","removeClass","loadVideoById","startSeconds","YT","Player","height","width","playerVars","autoplay","loop","start","controls","showinfo","modestbranding","events","initYoutubeApi","document","createElement","setAttribute","appendChild","fadeOut","muted","preload","poster","append","addClass","setupVideoPlay","playAction","setTimeout","on","this","preventDefault","length","imagesWithVideoTitles","each","index","element","mainImg","videoCover","imageTitle","exec","replace","thumbnail","thumbnailImage","thumbnailTitle","Object","values","map","indexOf","t","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","key","splice","r","o","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}