{"version":3,"file":"/scripts/growtype-video.js","mappings":"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","sources":["webpack://plugin/webpack/runtime/chunk loaded","webpack://plugin/./resources/scripts/growtype-video.js","webpack://plugin/webpack/bootstrap","webpack://plugin/webpack/runtime/hasOwnProperty shorthand","webpack://plugin/webpack/runtime/jsonp chunk loading","webpack://plugin/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\n * Init video play actions\n */\njQuery(window).on(\"load\", function () {\n    setupVideoPlay();\n});\n\njQuery(document).on('pjax:end', function (t) {\n    setupVideoPlay();\n});\n\n/**\n * Setup video play\n */\nfunction setupVideoPlay() {\n    initYoutubeApi();\n    initHtmlVideo();\n}\n\n/**\n * Html video setup\n */\nfunction initHtmlVideo() {\n    jQuery('.growtype-video-player[data-type=\"html\"]').each(function (index, element) {\n        var videoTag = document.createElement('video');\n        var sourceTag = document.createElement('source');\n\n        sourceTag.setAttribute('src', jQuery(element).attr('data-link'));\n        sourceTag.setAttribute('type', 'video/mp4');\n\n        videoTag.appendChild(sourceTag);\n\n        jQuery(element).animate({opacity: 1}, 500);\n\n        jQuery(element).closest('.growtype-video-main-wrapper').find('.growtype-video-cover').fadeOut();\n\n        videoTag.muted = true;\n        videoTag.autoplay = true;\n        videoTag.controls = false;\n        videoTag.preload = 'auto';\n        videoTag.loop = true;\n        videoTag.poster = jQuery(element).attr('data-cover');\n\n        jQuery(element).append(videoTag)\n    });\n}\n\n/**\n * Youtube setup\n */\nfunction initYoutubeApi() {\n\n    if (jQuery('.growtype-video-player[data-type=\"youtube\"]').length === 0) {\n        return;\n    }\n\n    var tag = document.createElement('script');\n    tag.src = \"https://www.youtube.com/iframe_api\";\n    var firstScriptTag = document.getElementsByTagName('script')[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n    window.onYouTubeIframeAPIReady = function () {\n        let player = [];\n        jQuery('.growtype-video-player[data-type=\"youtube\"]').each(function (index, element) {\n\n            const videoWrapper = jQuery(element).closest('.growtype-video-main-wrapper');\n            const videoId = jQuery(element).attr('data-link');\n            const videoStartTime = jQuery(element).attr('data-start');\n            const customCoverEnabled = jQuery(element).attr('data-custom-cover-enabled');\n\n            if (!videoWrapper.hasClass('growtype-video-is-active')) {\n                videoWrapper.addClass('growtype-video-is-active');\n            }\n\n            player[index] = new YT.Player(jQuery(element)[0], {\n                height: '100%',\n                width: '100%',\n                videoId: videoId,\n                playerVars: {\n                    autoplay: 0,\n                    loop: 0,\n                    start: videoStartTime,\n                    controls: 0,\n                    showinfo: 0,\n                    modestbranding: 0\n                },\n                events: {\n                    'onReady': onPlayerReady,\n                    'onStateChange': onPlayerStateChange\n                }\n            });\n\n            function onPlayerReady(event) {\n                let element = jQuery(event.target.v);\n\n                /**\n                 * Mute video\n                 */\n                const audioIsMuted = element.attr('data-audio-is-muted');\n\n                if (audioIsMuted || element.attr('data-play-action') === 'load' || element.attr('data-play-action') === 'mouseover') {\n                    event.target.mute();\n                }\n\n                if (element.attr('data-play-action') === 'load') {\n                    playVideo(event)\n                } else if (element.attr('data-play-action') === 'mouseover') {\n                    jQuery(event.target.h).on('mouseover', function () {\n                        playVideo(event)\n                    });\n                } else if (element.attr('data-play-action') === 'click') {\n                }\n            }\n\n            function playVideo(event) {\n                jQuery(event.target.h).animate({opacity: 1}, 500);\n                event.target.playVideo();\n            }\n\n            function onPlayerStateChange(event) {\n                let element = jQuery(event.target.v);\n\n                if (event.data === 0 && element.attr('data-video-is-looping') === 'true') {\n                    jQuery(element).animate({opacity: 1}, 1000);\n                    jQuery(element).closest('.growtype-video-main-wrapper').removeClass('growtype-video-is-active');\n                    player[index].loadVideoById({\n                        videoId: videoId,\n                        startSeconds: videoStartTime,\n                    });\n                }\n            }\n        });\n    }\n}\n\n/**\n * Woocommerce Thumbnails add video icon\n */\nif (jQuery('.woocommerce-product-gallery__image.has-growtype-video').length > 0) {\n    setTimeout(function () {\n        let imagesWithVideoTitles = {};\n        jQuery('.woocommerce-product-gallery__image.has-growtype-video').each(function (index, element) {\n            let mainImg = jQuery(element);\n            let video = mainImg.find('iframe');\n            let videoCover = mainImg.find('.growtype-video-cover');\n            let imageTitleWithExtension = /[^/]*jQuery/.exec(videoCover.find('img').attr('data-large_image'))[0];\n            let imageTitle = imageTitleWithExtension.replace(/\\.[^/.]+jQuery/, \"\")\n            imagesWithVideoTitles[imageTitle] = imageTitle;\n        });\n\n        jQuery('.woocommerce-product-gallery .product-image-thumbnail').each(function (index, element) {\n            let thumbnail = jQuery(element);\n            let thumbnailImage = thumbnail.find('img');\n            let thumbnailTitleWithExtension = /[^/]*jQuery/.exec(thumbnailImage.attr('src'))[0];\n            let thumbnailTitle = thumbnailTitleWithExtension.replace(/\\.[^/.]+jQuery/, \"\")\n\n            Object.values(imagesWithVideoTitles).map(function (imageTitle) {\n                if (thumbnailTitle.indexOf(imageTitle + '-400x300') >= 0) {\n                    thumbnail.addClass('has-growtype-video');\n                }\n            });\n        });\n    }, 1000);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t821: 0,\n\t202: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkplugin\"] = self[\"webpackChunkplugin\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [202], function() { return __webpack_require__(658); })\nvar __webpack_exports__ = __webpack_require__.O(undefined, [202], function() { return __webpack_require__(84); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","setupVideoPlay","jQuery","length","tag","document","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","window","onYouTubeIframeAPIReady","player","each","index","element","videoWrapper","closest","videoId","attr","videoStartTime","onPlayerReady","event","target","v","mute","playVideo","h","on","animate","opacity","onPlayerStateChange","data","removeClass","loadVideoById","startSeconds","hasClass","addClass","YT","Player","height","width","playerVars","autoplay","loop","start","controls","showinfo","modestbranding","events","initYoutubeApi","videoTag","sourceTag","setAttribute","appendChild","find","fadeOut","muted","preload","poster","append","t","setTimeout","imagesWithVideoTitles","mainImg","videoCover","imageTitle","exec","replace","thumbnail","thumbnailImage","thumbnailTitle","Object","values","map","indexOf","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","key","splice","r","o","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}